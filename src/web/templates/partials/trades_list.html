{% if trades %}
<div class="overflow-x-auto">
    <table class="w-full text-sm">
        <thead class="bg-muted/50">
            <tr>
                <th class="px-4 py-3 text-left font-medium text-muted-foreground">Symbol</th>
                <th class="px-4 py-3 text-left font-medium text-muted-foreground">Side</th>
                <th class="px-4 py-3 text-right font-medium text-muted-foreground">Quantity</th>
                <th class="px-4 py-3 text-right font-medium text-muted-foreground">Price</th>
                <th class="px-4 py-3 text-right font-medium text-muted-foreground">Total Value</th>
                <th class="px-4 py-3 text-right font-medium text-muted-foreground">Time</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-border">
            {% for trade in trades %}
            <tr class="hover:bg-muted/30 transition-colors">
                <td class="px-4 py-3">
                    <span class="font-medium">{{ trade.symbol }}</span>
                </td>
                <td class="px-4 py-3">
                    {% if trade.side == 'buy' %}
                    <span class="inline-flex items-center rounded bg-profit/10 text-profit px-2 py-0.5 text-xs font-medium">
                        BUY
                    </span>
                    {% else %}
                    <span class="inline-flex items-center rounded bg-loss/10 text-loss px-2 py-0.5 text-xs font-medium">
                        SELL
                    </span>
                    {% endif %}
                </td>
                <td class="px-4 py-3 text-right font-mono">
                    {{ "%.4f"|format(trade.quantity) if trade.quantity < 1 else "%.2f"|format(trade.quantity) }}
                    {% if trade.fill_count and trade.fill_count > 1 %}
                    <span class="text-xs text-muted-foreground ml-1">({{ trade.fill_count }} fills)</span>
                    {% endif %}
                </td>
                <td class="px-4 py-3 text-right font-mono">
                    ${{ "{:,.2f}".format(trade.price) }}
                </td>
                <td class="px-4 py-3 text-right font-mono font-medium">
                    ${{ "{:,.2f}".format(trade.total_value) }}
                </td>
                <td class="px-4 py-3 text-right text-muted-foreground text-xs">
                    {{ trade.filled_at|friendly_time }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Results count -->
<div class="px-4 py-3 border-t border-border bg-muted/30 text-sm text-muted-foreground">
    Showing {{ trades|length }} trade{% if trades|length != 1 %}s{% endif %}
</div>
{% else %}
<div class="text-center py-12 text-muted-foreground">
    <svg class="mx-auto h-12 w-12 mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
    </svg>
    <p class="font-medium">No trades found</p>
    <p class="text-sm mt-1">{% if current_filters and (current_filters.q or current_filters.side or current_filters.symbol) %}Try adjusting your filters{% else %}Trades will appear here once executed{% endif %}</p>
</div>
{% endif %}
